#        _       __
#  _  __(_)_ _  / /
# | |/ / /  ' \/ _ \
# |___/_/_/_/_/_.__/
#
# https://fanglingsu.github.io/vimb/man.html

set home-page=https://dorovich.github.io/f

# UI {{{
set input-autohide=true
set status-bar=true
set dark-mode=true
set hint-keys=asdfghjklei
set hint-keys-same-length=true
set smooth-scrolling=true
set default-zoom=100
set incsearch=true
# }}}

# Mappings {{{
set timeoutlen=500

nmap + zI
nmap - zO
nmap = zz
nmap J <C-d>
nmap K <C-u>
nmap <C-j> <C-f>
nmap <C-k> <C-b>
#nmap <C-j> :sh! xdotool key Page_Down<CR>
#nmap <C-k> :sh! xdotool key Page_Up<CR>
nmap H <C-o>
nmap L <C-i>
nmap M '
nmap ñ :
nmap Ñ :
nmap d :quit<CR>
nmap D :quit!<CR>
nmap b :open !
nmap B :tabopen !
nmap c <Esc>
cmap <C-j> <CR>
cmap <C-d> <Esc>
cmap <C-c> <Esc>
imap <C-d> <Esc>

nmap <C-s> :set scripts!|no r<CR>
nmap <C-m> :sh! mpv $VIMB_URI<CR> 
nmap <C-t> Y:tabopen trad <C-r>"<CR>
#nmap <C-y> :sh vimb-pass $VIMB_URI<CR>
nmap gc :sh! st -e nvim ~/.config/vimb/config<CR>
nmap gd :sh! st -e bash -ilc 'nnn ~/Descargas'<CR>
nnoremap xc :sh! ~/.local/bin/vimb-clear-history<CR>
nnoremap xu :sh! ~/.local/bin/vimb-adblock-update<CR>
#nnoremap xb :e! ytblock();<CR>
# }}}

# Shortcuts {{{
shortcut-default sxng

shortcut-add dd=https://duckduckgo.com/?q=$0
shortcut-add gg=https://encrypted.google.com/search?q=$0&pccc=1
shortcut-add sx=https://searx.tiekoetter.com/search?q=$0
shortcut-add sxng=https://searx.be/?q=$0
shortcut-add map=https://www.openstreetmap.org/search?query=$0
shortcut-add wiki=https://farside.link/wikiless/$0
shortcut-add trad=https://farside.link/lingva/auto/$0/$1
shortcut-add gh=https://github.com/$0/$1
shortcut-add ghs=https://github.com/search?q=$0&ref=simplesearch
shortcut-add aw=https://wiki.archlinux.org/?search=$0
shortcut-add wa=https://www.wolframalpha.com/input/?i=$0
shortcut-add fc=https://boards.4channel.org/$0/catalog
shortcut-add lol=https://euw.op.gg/champions/$0
shortcut-add yt=https://www.youtube.com/results?search_query=$0
shortcut-add rd=https://www.reddit.com/r/$0
shortcut-add iv=https://farside.link/invidious/$0
shortcut-add nt=https://farside.link/nitter/$0
shortcut-add td=https://farside.link/teddit/r/$0

shortcut-add scp=https://scp-wiki.wikidot.com/scp-$0

#shortcut-add iv=https://yewtu.be/search?q=$0
#shortcut-add map=https://maps.google.com/maps?saddr=$0&daddr=$1
#shortcut-add wiki=https://es.wikipedia.org/wiki/$0
#shortcut-add trad=https://translate.google.com/?hl=es&sl=auto&tl=es&text=$0&op=translate
#shortcut-add trad=https://translate.tiekoetter.com/?engine=google&text=$0&sl=auto&tl=en
#shortcut-add ny=https://nyaa.si/?q=$0
#shortcut-add af=https://www3.animeflv.net/browse?q=$0

# bookmarks: ~/.local/share/vimb/bookmark
# }}}

# External programs {{{
handler-add magnet=xdg-open %s
handler-add mailto=thunderbird %s
set editor-command=st -e nvim %s
# }}}

# Web content {{{
set download-path=~/Descargas/
set images=true
set scripts=true
set webgl=true
set cookie-accept=origin
set geolocation=never
set user-scripts=true
set accelerated-2d-canvas=ondemand
set history-max-items=50
set webinspector=true
set header=DNT=1,User-Agent,Cookie='name=value'
set user-agent=Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101 Firefox/102.0
# }}}

# Fonts {{{
set font-size=16
set monospace-font-size=14
set default-font=mononoki NF
set monospace-font=mononoki NF
set sans-serif-font=DejaVu Sans
set serif-font=DejaVu Serif
# }}}

# Spell checking {{{
set spell-checking=true
set spell-checking-languages=en,es_ES
# }}}

# Colors {{{
set completion-css=color:#abb2bf;background-color:#151515;font:11pt mononoki NF;
set completion-hover-css=color:#abb2bf;background-color:#262626;font:11pt mononoki NF;
set completion-selected-css=color:#151515;background-color:#d19a66;font:11pt mononoki NF;
set input-css=color:#abb2bf;background-color:#151515;font:11pt mononoki NF;
set input-error-css=color:#abb2bf;background-color:#151515;font:11pt mononoki NF;
set status-css=color:#abb2bf;background-color:#151515;font:11pt mononoki NF;
set status-ssl-css=color:#5c6370;background-color:#151515;font:11pt mononoki NF;
set status-ssl-invalid-css=color:#abb2bf;background-color:#151515;font:11pt mononoki NF;
# }}}

# Autocommands {{{
aug Downloads
    au DownloadFinished * sh notify-send --urgency=normal 'Download finished!'
    au DownloadFailed * sh notify-send --urgency=normal 'Could not download files.'
aug end

aug Styles
    au LoadCommitted * set stylesheet=false
    au LoadCommitted about:blank set stylesheet=true
    au LoadCommitted http{s,}://lite.duckduckgo.com/* set stylesheet=true
    au LoadCommitted http{s,}://fanglingsu.github.io/* set stylesheet=true
    au LoadCommitted http{s,}://*.wikipedia.org/* set stylesheet=true
    au LoadCommitted http{s,}://sm-idk.me/* set stylesheet=true
    au LoadCommitted http{s,}://envs.net/~smidk/* set stylesheet=true
    au LoadCommitted http{s,}://farside.link/* set stylesheet=true
aug end

aug YtBlock
    au LoadFinished http{s,}://www.youtube.com/watch?v=* e! ytblock();
aug end

aug SearxEsc
    au LoadFinished https://searx.be/search?q=* no <Esc>
aug end

# Cookies {{{
#aug Cookies
#    au LoadCommitted * set cookie-accept=never
#    au LoadCommitted http{s,}://sso.upc.edu/* set cookie-accept=origin
#    au LoadCommitted http{s,}://atenea.upc.edu/* set cookie-accept=origin
#    au LoadCommitted http{s,}://raco.fib.upc.edu/* set cookie-accept=origin
#    au LoadCommitted http{s,}://discos.fib.upc.edu/* set cookie-accept=origin
#    au LoadCommitted http{s,}://jutge.org/* set cookie-accept=origin
#    au LoadCommitted http{s,}://github.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://itch.io/* set cookie-accept=origin
#    au LoadCommitted http{s,}://www.google.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://accounts.google.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://www.youtube.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://soundcloud.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://duckduckgo.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://www.reddit.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://voidlinux.org/* set cookie-accept=origin
#    au LoadCommitted http{s,}://discord.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://*.wikipedia.org/* set cookie-accept=origin
#    au LoadCommitted http{s,}://yewtu.be/* set cookie-accept=origin
#    au LoadCommitted http{s,}://mega.nz/* set cookie-accept=origin
#    au LoadCommitted http{s,}://store.steampowered.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://steamcommunity.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://mangadex.org/* set cookie-accept=origin
#    au LoadCommitted http{s,}://www.twitch.tv/* set cookie-accept=origin
#    au LoadCommitted http{s,}://es.wallapop.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://www3.animeflv.net/* set cookie-accept=origin
#    au LoadCommitted http{s,}://www.epicgames.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://element.envs.net/* set cookie-accept=origin
#    au LoadCommitted http{s,}://bandcamp.com/* set cookie-accept=origin
#    au LoadCommitted http{s,}://www.pixiv.net/* set cookie-accept=origin
#    au LoadCommitted http{s,}://accounts.pixiv.net/* set cookie-accept=origin
#    au LoadCommitted http{s,}://roll20.net/* set cookie-accept=origin
#    au LoadCommitted http{s,}://app.roll20.net/* set cookie-accept=origin
#    au LoadCommitted http{s,}://4chan.org/* set cookie-accept=origin
#    au LoadCommitted http{s,}://boards.4channel.org/* set cookie-accept=origin
#    au LoadCommitted http{s,}://searx.be/* set cookie-accept=origin
#aug end
# }}}
# }}}
